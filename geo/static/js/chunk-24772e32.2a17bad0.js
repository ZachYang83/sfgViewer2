(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24772e32"],{"19c5":function(e,t,r){},"37d4":function(e,t,r){},"97b0":function(e,t,r){"use strict";r("19c5")},a55b:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"login-page"}},[r("el-form",{ref:"ruleForm",staticClass:"login-container demo-ruleForm",attrs:{model:e.loginForm,rules:e.rules,"label-position":"left","label-width":"0px"}},[r("h1",{staticClass:"login_title"},[e._v("欢迎登录")]),r("el-form-item",{attrs:{prop:"userName"}},[r("el-input",{staticStyle:{fontsize:"18px"},attrs:{type:"text","auto-complete":"off",placeholder:"账号","prefix-icon":"el-icon-user"},model:{value:e.loginForm.userName,callback:function(t){e.$set(e.loginForm,"userName",t)},expression:"loginForm.userName"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{staticStyle:{fontsize:"18px"},attrs:{type:"password","auto-complete":"off","prefix-icon":"el-icon-lock","show-password":"",placeholder:"密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),r("el-form-item",[r("div",{staticStyle:{width:"100%",display:"flex",justifyContent:"space-between"}},[r("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"55%",height:"50px",fontsize:"18px",border:"none"},attrs:{type:"primary"},on:{click:function(t){return e.userLogin("ruleForm")}}},[e._v("登录")]),r("router-link",{staticStyle:{display:"inline-block",width:"35%",height:"50px",fontsize:"18px",border:"none"},attrs:{to:"/register"}},[r("el-button",{staticStyle:{width:"100%",height:"50px"},attrs:{type:"warning"},on:{click:e.userRegister}},[e._v("注册")])],1)],1)])],1)],1)},o=[],i=(r("d9e2"),r("b775"));function a(e){return Object(i["a"])({url:"user/login",method:"post",data:e})}var n={name:"Login",data(){var e=(e,t,r)=>{t?/^[a-zA-Z]\w{4,9}$/.test(t)?r():r(new Error("请输入5-10个字符")):r(new Error("用户名不能为空"))},t=(e,t,r)=>{""===t?r(new Error("密码不能为空")):/^[0-9]\d{5,9}$/.test(t)?r():r(new Error("请输入6-10个数字"))};return{loginForm:{userName:"",password:""},rules:{userName:[{validator:e,trigger:"blur"}],password:[{validator:t,trigger:"blur"}]},responseResult:[],loading:!1}},methods:{userLogin(e){let t=this;this.$refs[e].validate(e=>{if(t.loading=!0,!e)return this.loading=!1,!1;a({username:t.loginForm.userName,password:t.loginForm.password}).then(e=>{if("0"===e.data.code){let r=e.data.data,s=r.token,o=r.user;t.$store.commit("SET_TOKENN",s),t.$store.commit("SET_USER",o),this.$router.push("/home"),t.$message({message:e.data.msg,type:"success"})}else t.$message({message:e.data.msg,type:"warning"});t.loading=!1})})},userRegister(){}}},l=n,c=(r("e91c"),r("97b0"),r("2877")),u=Object(c["a"])(l,s,o,!1,null,"bec4ad96",null);t["default"]=u.exports},b775:function(e,t,r){"use strict";var s=r("bc3a"),o=r.n(s),i=r("5c96");const a=o.a.create({baseURL:"https://zwfw.credit.gdgov.cn/yxjc/geo-api/"});a.interceptors.request.use(e=>e,e=>(console.log(e),Promise.reject(e))),a.interceptors.response.use(e=>200===e.status?Promise.resolve(e):Promise.reject(e),e=>(console.log("err"+e),Object(i["Message"])({message:e.message,type:"error",duration:1e4}),Promise.reject(e))),t["a"]=a},e91c:function(e,t,r){"use strict";r("37d4")}}]);
//# sourceMappingURL=chunk-24772e32.2a17bad0.js.map